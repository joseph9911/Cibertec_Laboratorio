@model IEnumerable<WebDeveloper.Model.Person>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

@CustomHelper.Message("successMessage","success","The record was created.")
@CustomHelper.Message("editMessage","info","The record was updated.")
@CustomHelper.Message("deleteMessage","danger","The record was deleted.")


<p>
    <a href="#"
       onclick="getModalContent('@Url.Action("Create", new { area="Personnel" })')"
       data-toggle="modal"
       data-target="#modal-container"
       class="btn btn-success">
        <span class="glyphicon glyphicon-plus"></span> Create New
    </a>

</p>
<div id="personContent"></div>


@CustomHelper.GetModal("Person")
<script src="~/Scripts/Shared/modal.js" type="text/javascript"></script>
@Scripts.Render("~/bundles/unobtrusive-ajax")

<script type="text/javascript">
    var rowsByPage = 15;
    $(function () {
        goToPage(1);
    });

    function goToPage(page) {
        var url = '@Url.Action("List", new { controller="Person", area="Personnel" })';
        var finalUrl = url + "?page=" + page + "&size=" + rowsByPage;
        $.get(finalUrl, function (data) {
            $('#personContent').html(data);
        });
    }
</script>